<html>
<head>
<title>Practical: Morphological disambiguation</title>
</head>
<body>

<h2>Tagger comparison</h2>

<h2>Constraint Grammar</h2>



<h2>Improve perceptron tagger</h2>
<p>
The objective of this task is to download and run a very basic averaged perceptron tagger (less than 300 lines of 
Python). After successfully running it, try and improve it by changing the feature specifications.
</p>
<p>
First download the code:
</p>
<pre>
$ git clone https://github.com/ftyers/conllu-perceptron-tagger.git
</pre>
<p>
Then download some data, feel free to replace <tt>UD_Portuguese</tt> with any language in UD.
</p>
<pre>
$ git clone https://github.com/UniversalDependencies/UD_Portuguese.git
</pre>
<p>
Then download the CoNLL shared task 2017 official evaluation script and unzip it:
</p>
<pre>
$ wget http://universaldependencies.org/conll17/eval.zip
$ unzip eval.zip
</pre>
<p>
Finally enter the directory of the perceptron tagger:
</p>
<pre>
$ cd conllu-perceptron-tagger
</pre>

<p>
You can train the tagger using the following command:
</p>
<pre>
$ cat ../UD_Portuguese/pt-ud-train.conllu | python3 tagger.py -t pt-ud.dat
222070
Iter 0: 200635/222070=90.3476381321205
222063
Iter 1: 209720/222070=94.43869050299455
222033
Iter 2: 212814/222070=95.83194488224433
222068
Iter 3: 214833/222070=96.74111766560094
222021
Iter 4: 215973/222070=97.25446931147836
</pre>
<p>
Now you can run the tagger 
</p>
<pre>
$ cat ../UD_Portuguese/pt-ud-test.conllu | python3 tagger.py pt-ud.dat &gt; pt-ud-test.out
</pre>

And evaluate:
<pre>
$ python3 ../evaluation_script/conll17_ud_eval.py --verbose ../UD_Portuguese/pt-ud-test.conllu pt-ud-test.out 
Metrics    | Precision |    Recall |  F1 Score | AligndAcc
-----------+-----------+-----------+-----------+-----------
Tokens     |    100.00 |    100.00 |    100.00 |
Sentences  |    100.00 |    100.00 |    100.00 |
Words      |    100.00 |    100.00 |    100.00 |
UPOS       |     95.73 |     95.73 |     95.73 |     95.73
XPOS       |    100.00 |    100.00 |    100.00 |    100.00
Feats      |    100.00 |    100.00 |    100.00 |    100.00
AllTags    |     95.73 |     95.73 |     95.73 |     95.73
Lemmas     |    100.00 |    100.00 |    100.00 |    100.00
UAS        |    100.00 |    100.00 |    100.00 |    100.00
LAS        |    100.00 |    100.00 |    100.00 |    100.00
</pre>
<p>
Note that the interesting value here is the <tt>UPOS</tt> column as that is the only one we have changed. 
</p>
<p>
In the code, feature extraction is done by <tt>_get_features()</tt> in <tt>tagger.py</tt>. Try
playing around with this and see if you can improve the performance. Remember to try and improve
your features on the <tt>pt-ud-dev.conllu</tt> file, not on the <tt>pt-ud-test.conllu</tt> file.
</p>
</body>

</html>
